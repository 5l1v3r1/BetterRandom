if: tag IS blank
cache:
  directories:
  - "$HOME/.m2"
  - "$HOME/Library/Developer/Xcode"
dist: trusty
serialGroup: edge
git:
  depth: 10
  quiet: true
  submodules: true
stages:
- unit tests
- long tests
jobs:
  include:
  - language: android
    os: linux
    jdk: openjdk8
    env: OP=unit-tests ANDROID=1 JAVA8=true
    stage: unit tests
  - language: java
    os: osx
    osx_image: xcode6.4
    env: OP=unit-tests JAVA8=true
    stage: unit tests
  - language: java
    os: osx
    osx_image: xcode7.3
    env: OP=unit-tests JAVA8=true
    stage: unit tests
  - language: java
    os: osx
    osx_image: xcode8.3
    env: OP=unit-tests JAVA8=true
    stage: unit tests
  - language: java
    os: osx
    osx_image: xcode9.3
    env: OP=unit-tests JAVA8=true
    stage: unit tests
  - language: java
    os: osx
    osx_image: xcode9.4
    env: OP=unit-tests
    stage: unit tests
  - language: java
    os: linux
    jdk: openjdk8
    env: OP=unit-tests JAVA8=true
    stage: unit tests
  - language: java
    os: linux
    jdk: oraclejdk8
    env: OP=unit-tests JAVA8=true
    stage: unit tests
  - language: java
    os: linux
    jdk: oraclejdk8
    env: OP=unit-tests JAVA8=true LIMITED_CRYPTO=true
    stage: unit tests
    sudo: required
  - language: java
    os: linux
    jdk: openjdk9
    env: OP=unit-tests
    stage: unit tests
  - language: java
    os: linux
    jdk: oraclejdk9
    env: OP=unit-tests
    stage: unit tests
  - language: java
    os: linux
    jdk: openjdk10
    env: OP=unit-tests
    stage: unit tests
  - language: java
    os: linux
    jdk: oraclejdk10
    env: OP=unit-tests
    stage: unit tests
  - language: java
    os: linux
    jdk: openjdk11
    env: OP=unit-tests
    stage: unit tests
  - language: java
    os: linux
    jdk: oraclejdk11
    env: OP=unit-tests
    stage: unit tests
  - language: java
    os: linux
    jdk: oraclejdk10
    env: OP=mutation
    stage: long tests
  - language: android
    os: linux
    jdk: openjdk8
    env: OP=benchmark ANDROID=1 JAVA8=true
    stage: long tests
  - language: java
    os: osx
    osx_image: xcode6.4
    env: OP=benchmark JAVA8=true
    stage: long tests
  - language: java
    os: osx
    osx_image: xcode7.3
    env: OP=benchmark JAVA8=true
    stage: long tests
  - language: java
    os: osx
    osx_image: xcode8.3
    env: OP=benchmark JAVA8=true
    stage: long tests
  - language: java
    os: osx
    osx_image: xcode9.3
    env: OP=benchmark JAVA8=true
    stage: long tests
  - language: java
    os: osx
    osx_image: xcode9.4
    env: OP=benchmark
    stage: long tests
  - language: java
    os: linux
    jdk: openjdk8
    env: OP=benchmark JAVA8=true
    stage: long tests
  - language: java
    os: linux
    jdk: oraclejdk8
    env: OP=benchmark JAVA8=true
    stage: long tests
  - language: java
    os: linux
    jdk: openjdk9
    env: OP=benchmark
    stage: long tests
  - language: java
    os: linux
    jdk: oraclejdk9
    env: OP=benchmark
    stage: long tests
  - language: java
    os: linux
    jdk: openjdk10
    env: OP=benchmark
    stage: long tests
  - language: java
    os: linux
    jdk: oraclejdk10
    env: OP=benchmark
    stage: long tests
  - language: java
    os: linux
    jdk: oraclejdk11
    env: OP=benchmark
    stage: long tests
  - language: java
    os: linux
    jdk: openjdk11
    env: OP=benchmark
    stage: long tests
  - language: java
    os: linux
    jdk: oraclejdk10
    env: OP=dieharder CLASS=AesCounterRandom
    stage: long tests
  - language: java
    os: linux
    jdk: oraclejdk10
    env: OP=dieharder CLASS=CellularAutomatonRandom
    stage: long tests
  - language: java
    os: linux
    jdk: oraclejdk10
    env: OP=dieharder CLASS=Cmwc4096Random
    stage: long tests
  - language: java
    os: linux
    jdk: oraclejdk10
    env: OP=dieharder CLASS=MersenneTwisterRandom
    stage: long tests
  - language: java
    os: linux
    jdk: oraclejdk10
    env: OP=dieharder CLASS=Pcg64Random
    stage: long tests
  - language: java
    os: linux
    jdk: oraclejdk10
    env: OP=dieharder CLASS=XorShiftRandom
    stage: long tests
  - language: java
    os: linux
    jdk: oraclejdk10
    env: OP=dieharder CLASS=adapter.SingleThreadSplittableRandomAdapter
    stage: long tests
  fast_finish: true
addons:
  apt:
    packages:
    - tor
    - dieharder
script:
- ifconfig | grep inet
- "./remove_unlimited_crypto.sh"
- "./${OP}.sh"
env:
  global:
    secure: VSUWRYbieBuByQsjyLuODa46S8HShOgEpX1voDrr1mkLCnvFfz3rA5av66pCYYa1KTs63AcIm30OtK3fiGeLBaE3njs9LQAsYi7iMzqsXT6R3Elc0PFdFtoQ1nxoUsvRplHSURjgb2hVBFUBgJzEX4aOxgJmDbmkMeefCQj5xz6N37QVgWoovOMfrIQBqv5ZIffJzmYkCWTusRNUAuzIcZ4NpBeLOn+fmKu959861IUNcYwHL60zBi2wOmzABYnPWnpdQZ/BhjmU4wpibOWC1tbJgK9WNip25RqdjVfWSPOO4vA6atlTsSMLZLo8IXqOYEfMv1rRwe9yrFd2RsE4b3eDnGUAP2hCAvylzBWCghYpefheYARjDT8LurWpMD77Vyb2OdJhQn/xdxeGqjn5t1JZ/hK8ZpJfDlM/ZJPm5PC8Z2gIcb+1VDZeukoJGT0z7rDnQkNCIR5oapxmkIFYzN8nsRPxg0TKrR5I82nlFrzSEZeAFJf8ZRxpwItlU0Uy4foV1CBU5hLqoA5Wi3nzWKTe3ot7TSs1GjSwXsMiJ7kzUNVV0OnQIivThDp8Ig8HsT4qjoxYcYS03+Z+afyecvqa9Zmp5tjZPPFnXJU/Za/A4MZfKu+04MM5rndwDUyZVpz0iGNZOBXCy+fN45As0tzIPEFpIMyHhfcIylpqS6o=
