# http://www.appveyor.com/docs/appveyor-yml
environment:
  JAVA_HOME: C:\Program Files\Java\jdk1.8.0
  matrix:
    - OP: unit-tests
      RUNNER: c:\mingw-w64\x86_64-6.3.0-posix-seh-rt_v5-rev1\bin\bash
    - OP: benchmark
      RUNNER: c:\mingw-w64\x86_64-6.3.0-posix-seh-rt_v5-rev1\bin\bash
    - OP: unit-tests
      RUNNER: c:\cygwin64\bin\bash
    - OP: benchmark
      RUNNER: c:\cygwin64\bin\bash
install:
  # Log versions for debugging
  - java -version
  - mvn --version
build_script: # dummy, as shell scripts both build and test
  - echo
test_script:
#  - C:\mingw-w64\x86_64-6.3.0-posix-seh-rt_v5-rev1\bin\run.exe ./unit-tests.sh
#  - C:\mingw-w64\x86_64-6.3.0-posix-seh-rt_v5-rev1\bin\run.exe ./benchmark.sh
  - %RUNNER% ./%OP%.sh
cache:
  - C:\maven\
  - C:\Users\appveyor\.m2